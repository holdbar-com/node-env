import { ESLint } from 'eslint';
let eslint = new ESLint();
let formatter = await eslint.loadFormatter('stylish');
export async function lint(files) {
    const results = await eslint.lintFiles(files);
    const resultText = formatter.format(results);
    if (resultText) {
        console.log(resultText);
    }
    return !results.some((r) => r.fatalErrorCount + r.errorCount);
}
export async function clearCache() {
    eslint = new ESLint();
    formatter = await eslint.loadFormatter('stylish');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGludGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibGludGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFaEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztBQUMxQixJQUFJLFNBQVMsR0FBRyxNQUFNLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7QUFFdEQsTUFBTSxDQUFDLEtBQUssVUFBVSxJQUFJLENBQUMsS0FBZTtJQUN4QyxNQUFNLE9BQU8sR0FBRyxNQUFNLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUMsTUFBTSxVQUFVLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QyxJQUFJLFVBQVUsRUFBRSxDQUFDO1FBQ2YsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBQ0QsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFFRCxNQUFNLENBQUMsS0FBSyxVQUFVLFVBQVU7SUFDOUIsTUFBTSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7SUFDdEIsU0FBUyxHQUFHLE1BQU0sTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNwRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRVNMaW50IH0gZnJvbSAnZXNsaW50JztcblxubGV0IGVzbGludCA9IG5ldyBFU0xpbnQoKTtcbmxldCBmb3JtYXR0ZXIgPSBhd2FpdCBlc2xpbnQubG9hZEZvcm1hdHRlcignc3R5bGlzaCcpO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGludChmaWxlczogc3RyaW5nW10pIHtcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGVzbGludC5saW50RmlsZXMoZmlsZXMpO1xuICBjb25zdCByZXN1bHRUZXh0ID0gZm9ybWF0dGVyLmZvcm1hdChyZXN1bHRzKTtcbiAgaWYgKHJlc3VsdFRleHQpIHtcbiAgICBjb25zb2xlLmxvZyhyZXN1bHRUZXh0KTtcbiAgfVxuICByZXR1cm4gIXJlc3VsdHMuc29tZSgocikgPT4gci5mYXRhbEVycm9yQ291bnQgKyByLmVycm9yQ291bnQpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2xlYXJDYWNoZSgpIHtcbiAgZXNsaW50ID0gbmV3IEVTTGludCgpO1xuICBmb3JtYXR0ZXIgPSBhd2FpdCBlc2xpbnQubG9hZEZvcm1hdHRlcignc3R5bGlzaCcpO1xufVxuIl19